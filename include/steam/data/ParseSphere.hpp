//////////////////////////////////////////////////////////////////////////////////////////////
/// \file ParseSphere.hpp
/// \brief Parses a sphere dataset, as released with iSAM1
///
/// \author Sean Anderson, modified from iSAM1 parsing tools
//////////////////////////////////////////////////////////////////////////////////////////////

#ifndef STEAM_PARSE_SPHERE_HPP
#define STEAM_PARSE_SPHERE_HPP

#include <stdio.h>
#include <iostream>
#include <vector>

#include <Eigen/Core>
#include <lgmath.hpp>

namespace steam {
namespace data {

//////////////////////////////////////////////////////////////////////////////////////////////
/// \brief Structure used to store relative edge measurements
//////////////////////////////////////////////////////////////////////////////////////////////
struct SphereEdge {
  unsigned int idA;
  unsigned int idB;
  lgmath::se3::Transformation T_BA;
  Eigen::MatrixXd sqrtInformation;
};

//////////////////////////////////////////////////////////////////////////////////////////////
/// \brief Function that parses an iSAM1 sphere dataset
//////////////////////////////////////////////////////////////////////////////////////////////
std::vector<SphereEdge> parseSphereDataset(const std::string& file);

} // data
} // steam

#endif // STEAM_PARSE_SPHERE_HPP
