//////////////////////////////////////////////////////////////////////////////////////////////
/// \file SteamCATrajVar.cpp
///
/// \author Tim Tang, ASRL
//////////////////////////////////////////////////////////////////////////////////////////////

#include <steam/trajectory_ca/SteamCATrajVar.hpp>

#include <lgmath.hpp>

namespace steam {
namespace se3 {

//////////////////////////////////////////////////////////////////////////////////////////////
/// \brief Constructor
//////////////////////////////////////////////////////////////////////////////////////////////
SteamCATrajVar::SteamCATrajVar(const steam::Time& time,
             const se3::TransformEvaluator::Ptr& T_k0,
             const VectorSpaceStateVar::Ptr& velocity,
             const VectorSpaceStateVar::Ptr& acceleration)
  : time_(time), T_k0_(T_k0), velocity_(velocity), acceleration_(acceleration) {

  // Check velocity input
  if (velocity->getPerturbDim() != 6) {
    throw std::invalid_argument("invalid velocity size");
  }

  // Check acceleration input
  if (acceleration->getPerturbDim() != 6) {
    throw std::invalid_argument("invalid acceleration size");
  }
}

//////////////////////////////////////////////////////////////////////////////////////////////
/// \brief Get pose evaluator
//////////////////////////////////////////////////////////////////////////////////////////////
const se3::TransformEvaluator::Ptr& SteamCATrajVar::getPose() const {
  return T_k0_;
}

//////////////////////////////////////////////////////////////////////////////////////////////
/// \brief Get velocity state variable
//////////////////////////////////////////////////////////////////////////////////////////////
const VectorSpaceStateVar::Ptr& SteamCATrajVar::getVelocity() const {
  return velocity_;
}

//////////////////////////////////////////////////////////////////////////////////////////////
/// \brief Get acceleration state variable
//////////////////////////////////////////////////////////////////////////////////////////////
const VectorSpaceStateVar::Ptr& SteamCATrajVar::getAcceleration() const {
  return acceleration_;
}

//////////////////////////////////////////////////////////////////////////////////////////////
/// \brief Get timestamp
//////////////////////////////////////////////////////////////////////////////////////////////
const steam::Time& SteamCATrajVar::getTime() const {
  return time_;
}

} // se3
} // steam
